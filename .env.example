# ===================================
# MICROSERVICIO SOCIAL - CONFIGURACIÓN
# ===================================
# Copia este archivo a .env y configura tus valores

# ===================================
# ENTORNO DE APLICACIÓN
# ===================================
NODE_ENV=development
PORT=3001

# ===================================
# BASE DE DATOS
# ===================================
# Dialecto de BD: mysql, postgresql, sqlite
DB_DIALECT=mysql

# Configuración MySQL (Recomendado para producción)
DB_HOST=localhost
DB_PORT=3306
DB_NAME=social_microservice_dev
DB_USER=social_user
DB_PASSWORD=social123

# Configuración PostgreSQL (Alternativa)
# PG_HOST=localhost
# PG_PORT=5432
# PG_DATABASE=social_microservice_dev
# PG_USER=social_user
# PG_PASSWORD=social123
# PG_SSL=false

# Configuración SQLite (Para desarrollo)
# SQLITE_PATH=./data/social_dev.db

# ===================================
# AUTENTICACIÓN JWT
# ===================================
JWT_SECRET=your-super-secret-jwt-key-for-social-microservice-change-this-in-production

# ===================================
# CLOUDINARY (Almacenamiento de medios)
# ===================================
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# ===================================
# CORS (Seguridad)
# ===================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:8080

# ===================================
# CONFIGURACIONES DE TESTING
# ===================================
TEST_DB_HOST=localhost
TEST_DB_PORT=3306
TEST_DB_NAME=social_microservice_test
TEST_DB_USER=social_user
TEST_DB_PASSWORD=social123

# ===================================
# CONFIGURACIONES DE PRODUCCIÓN
# ===================================
# Para producción, configura estas variables según tu proveedor:

# Base de datos de producción
# DB_HOST=your-production-db-host
# DB_PORT=3306
# DB_NAME=social_microservice_prod
# DB_USER=your-production-user
# DB_PASSWORD=your-production-password
# DB_SSL=true

# Rate Limiting (requests por ventana de tiempo)
RATE_LIMIT_GENERAL=100
RATE_LIMIT_CREATE_POST=20
RATE_LIMIT_LIKES=50
RATE_LIMIT_COMMENTS=30

# Logging level (error, warn, info, debug)
LOG_LEVEL=info

# Configuraciones de seguridad adicionales
# HELMET_CSP=true
# COOKIE_SECRET=your-cookie-secret

# ===================================
# INSTRUCCIONES DE CONFIGURACIÓN
# ===================================

# 1. BASE DE DATOS:
#    - Crear la base de datos: CREATE DATABASE social_microservice_dev;
#    - Crear el usuario: CREATE USER 'social_user'@'localhost' IDENTIFIED BY 'social123';
#    - Dar permisos: GRANT ALL PRIVILEGES ON social_microservice_dev.* TO 'social_user'@'localhost';
#    - Ejecutar: FLUSH PRIVILEGES;

# 2. CLOUDINARY:
#    - Registrarse en https://cloudinary.com
#    - Obtener las credenciales del dashboard
#    - Configurar cloud_name, api_key y api_secret

# 3. JWT_SECRET:
#    - Generar una clave segura para producción
#    - Usar: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

# 4. CORS:
#    - Configurar los orígenes permitidos según tu frontend
#    - En producción, usar dominios específicos, no wildcards

# ===================================
# COMANDOS ÚTILES
# ===================================

# Inicializar base de datos:
# npm run migrate:up

# Insertar datos de ejemplo:
# npm run seed

# Verificar estado de migraciones:
# npm run migrate:status

# Iniciar en desarrollo:
# npm run dev

# Iniciar en producción:
# npm start